---
import { COPYRIGHT } from '../consts';
import TopButton from '../layouts/TopButton.astro';
const today = new Date();
---

<footer>
  &copy; {today.getFullYear()}
  {COPYRIGHT}. All rights reserved.
  <TopButton />
</footer>
<style>
  footer {
    height: var(--footer-height);
    padding: var(--footer-padding);
    overflow: hidden;
    background: linear-gradient(var(--gray-gradient)) no-repeat;
    color: rgb(var(--gray));
    text-align: center;
    .social-links {
      display: flex;
      justify-content: center;
      gap: 1em;
      margin-top: 1em;
    }
    .social-links a {
      text-decoration: none;
      color: rgb(var(--gray));
    }
    .social-links a:hover {
      color: rgb(var(--gray-dark));
    }
  }
</style>

<script>
  import { throttle } from '../utils/common';
  const fn = throttle(() => {
    const top = document.querySelector('body > footer > .top');
    if (
      window.scrollY >
      (document.querySelector('body > header')?.clientHeight || 100)
    ) {
      top?.classList.add('active');
    } else {
      top?.classList.remove('active');
    }
  }, 100);
  window.addEventListener('scroll', fn);
</script>
